node{
    def mvn = tool name: 'Maven3.8.6'

	stage('Codeclone'){
        git "https://github.com/Jazzmangit/maven-web-application.git"
    }
	stage('TestBuild'){
        sh "echo 'Runing Junit Testing'"
        sh "${mvn}/bin/mvn clean package"
    }
    stage('CodeQuality'){
        sh "echo 'Runing code quality Testing'"
        sh "${mvn}/bin/mvn sonar:sonar"
    }
    stage('uploadartifact'){
        sh "echo 'uploading artifacts to nexus'"
        sh "${mvn}/bin/mvn deploy"
    }

}